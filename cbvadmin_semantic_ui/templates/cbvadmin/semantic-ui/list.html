{% extends 'cbvadmin/semantic-ui/base_site.html' %}
{% load static i18n django_tables2 %}

{% block title %}{{ view.admin.model_opts.verbose_name_plural|capfirst }}{% endblock %}

{% block content %}

{% block actions %}
  {% block mobile_menu %}
  <div class="ui mobile only two item menu">
    {% if admin.urls.add %}
    <a class="item" href="{% url admin.urls.add %}"><i class="plus icon"></i> {% trans 'Add' %}</a>
    {% endif %}
    {% if view.has_filters and filter.form %}
    <a class="filter item"><i class="filter icon"></i> {% trans 'Filter' %}</a>
    {% endif %}
  </div>
  {% endblock %}
  {% block desktop_menu %}
  <div class="ui mobile hidden attached menu">
    {% if admin.urls.add %}
    <a class="item" href="{% url admin.urls.add %}"><i class="plus icon"></i> {% trans 'Add' %} {{ admin.model_opts.verbose_name }}</a>
    {% endif %}
    {% if view.has_filters and filter.form %}
    <div class="right menu">
      <a class="filter item"><i class="filter icon"></i> {% trans 'Filter' %}</a>
    </div>
    {% endif %}
  </div>
  {% endblock %}
{% endblock %}

{% block list %}
{% load render_table from django_tables2 %}
{% render_table table 'cbvadmin/semantic-ui/table.html' %}
{% endblock %}
{% endblock %}

{% block right_content %}
{% include 'cbvadmin/semantic-ui/filter.html' %}
{% endblock %}

{% block extrascript %}
{{ block.super }}
<script type="text/javascript">
  $('.filter.item').click(function() {
    $('.filter.sidebar').sidebar('setting', 'transition', 'overlay').sidebar('show')
  })
</script>
{% endblock %}
